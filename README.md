# SmartOLED - —É–º–Ω—ã–π OLED –¥–∏—Å–ø–ª–µ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —ç–Ω–∫–æ–¥–µ—Ä–∞

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ
SmartOLED ‚Äî —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è OLED –¥–∏—Å–ø–ª–µ–µ–º –∏ —ç–Ω–∫–æ–¥–µ—Ä–æ–º —Å –ø–æ–º–æ—â—å—é –ø–ª–∞—Ç—ã **ESP8266** –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **MQTT** –≤ Home Assistant.  
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ OLED –¥–∏—Å–ø–ª–µ–π –∏–∑ Home Assistant. –¢–∞–∫–∂–µ, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞ –≤ Home Assistant –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è—Ö.

---

## ‚öô –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ü–ª–∞—Ç–∞ Wemos D1 Mini** [–¢—ã–∫](https://www.ozon.ru/product/esp8266-d1-mini-v2-modul-na-osnove-nodemcu-lua-esp-12-ch340-type-c-1619839327/?at=lRt6NjvAgtq3OQMQujE5XZyuEPXPB8TGwg8pNUk57NlD)
- **–î–∏—Å–ø–ª–µ–π OLED 0.96 I2C** [–¢—ã–∫](https://www.ozon.ru/product/oled-displey-0-96-128x64-i2c-belyy-945285571/?at=Y7tj2w4NGUYyYLGVSG2GKOBcx93zDpi290p8QUzYmrVW)
- **–≠–Ω–∫–æ–¥–µ—Ä "–∫—Ä—É–≥–ª—ã–π" :)** [–¢—ã–∫](https://www.ozon.ru/product/modul-enkodera-kruglyy-1420360981/?at=Brtz5yOMETQ0A2K6SyXp3RAC6EoXDRF8zD6AJf0AyBr6)

- **Home Assistant** —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º MQTT –±—Ä–æ–∫–µ—Ä–æ–º
- **Arduino IDE** –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- **3D –ø—Ä–∏–Ω—Ç–µ—Ä** –¥–ª—è –ø–µ—á–∞—Ç–∏ –∫–æ—Ä–ø—É—Å–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

---

## üìö –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
–í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Arduino:

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Å—ã–ª–∫–∞ |
|-----------------------|------------|--------|
| **ESP8266WiFi**       | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ESP8266 –∫ Wi-Fi —Å–µ—Ç–∏ | [GitHub](https://github.com/esp8266/Arduino) |
| **PubSubClient**      | –†–∞–±–æ—Ç–∞ —Å MQTT (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π) | [GitHub](https://github.com/knolleary/pubsubclient) |
| **GyverOLED**         | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OLED –¥–∏—Å–ø–ª–µ–µ–º | [GitHub](https://github.com/GyverLibs/GyverOLED) |
| **EncButton**         | –†–∞–±–æ—Ç–∞ —Å —ç–Ω–∫–æ–¥–µ—Ä–æ–º | [GitHub](https://github.com/GyverLibs/EncButton) |
| **GyverPortal**       | –í–µ–±-–º–æ—Ä–¥–∞ –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | [GitHub](https://github.com/GyverLibs/GyverPortal) |
| **EEPROM**            | –†–∞–±–æ—Ç–∞ —Å EEPROM | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ **Library Manager** –≤ Arduino IDE.

---

## üîå –°–±–æ—Ä–∫–∞
- **D1** ‚Äî –ø–∏–Ω SCK OLED –¥–∏—Å–ø–ª–µ—è.
- **D2** ‚Äî –ø–∏–Ω SDA OLED –¥–∏—Å–ø–ª–µ—è.
- **D5** ‚Äî –ø–∏–Ω KEY —ç–Ω–∫–æ–¥–µ—Ä–∞.
- **D6** ‚Äî –ø–∏–Ω S2 —ç–Ω–∫–æ–¥–µ—Ä–∞.
- **D7** ‚Äî –ø–∏–Ω S1 —ç–Ω–∫–æ–¥–µ—Ä–∞.

–ü–∏—Ç–∞–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏ –¥–∏—Å–ø–ª–µ—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ—Ç WEMOS. –ö–æ–Ω—Ç–∞–∫—Ç—ã GND –∏ 5V.
WEMOS –ø–∏—Ç–∞–µ—Ç—Å—è –æ—Ç —Ä–∞–∑—ä–µ–º–∞ USB-C –Ω–∞ —Å–∞–º–æ–π –ø–ª–∞—Ç–µ.

–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

![–°—Ö–µ–º–∞ SmartOLED](https://github.com/AntennaNaStolbe/SmartOLED/blob/main/Scheme.png)

---

## üì¶ –ö–æ—Ä–ø—É—Å

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å –¥–≤–µ –≤–µ—Ä—Å–∏–∏ 3D –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏ –Ω–∞ 3D –ø—Ä–∏–Ω—Ç–µ—Ä–µ. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ª—é–±—É—é –∏–∑ –≤–µ—Ä—Å–∏–π –∫–æ—Ä–ø—É—Å–∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å (–∏–ª–∏ –∑–∞–∫–∞–∑–∞—Ç—å –ø–µ—á–∞—Ç—å).

### –ö–æ—Ä–ø—É—Å –≤–µ—Ä—Å–∏–∏ V1:

![–ö–æ—Ä–ø—É—Å –≤–µ—Ä—Å–∏–∏ V1](https://github.com/AntennaNaStolbe/SmartOLED/blob/main/3d%20box/v1/SmartOLED_box_v1.png)



### –ö–æ—Ä–ø—É—Å –≤–µ—Ä—Å–∏–∏ V2:

![–ö–æ—Ä–ø—É—Å –≤–µ—Ä—Å–∏–∏ V1](https://github.com/AntennaNaStolbe/SmartOLED/blob/main/3d%20box/v2/SmartOLED_box_v2.png)

---

## üîß –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ WEMOS –ø—ã—Ç–∞–µ—Ç—Å—è –∏–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ –æ WIFI –∏ MQTT –∏–∑ EEPROM. –ï—Å–ª–∏ –µ–º—É —ç—Ç–æ –Ω–µ —É–¥–∞–µ—Ç—Å—è - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–≤–æ—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ WiFi —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "SmartOLED_setup".
2. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∫–ª–∏–∫–Ω–∏—Ç–µ —ç–Ω–∫–æ–¥–µ—Ä 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥. –≠—Ç–æ –æ—á–∏—Å—Ç–∏—Ç EEPROM –æ—Ç –º—É—Å–æ—Ä–∞ –∏ –≤—ã –≤–µ—Ä–Ω–µ—Ç–µ—Å—å –Ω–∞ —à–∞–≥ 1.
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Ç–æ—á–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É http://192.168.4.1
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ - —É–∫–∞–∂–∏—Ç–µ –∏–º—è, –ø–∞—Ä–æ–ª—å WiFi —Å–µ—Ç–∏, –∞–¥—Ä–µ—Å, –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 1883) MQTT —Å–µ—Ä–≤–µ—Ä–∞, –ª–æ–≥–∏–Ω, –ø–∞—Ä–æ–ª—å mqtt –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, id —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ Home Assistant.

–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ WiFi –∏ MQTT.

–ù–∏–∫–∞–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ –∫–æ–¥–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ—à–∏–≤–∫–æ–π –¥–µ–ª–∞—Ç—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –Ω–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∂–µ–ª–∞–Ω–∏–µ, –º–æ–∂–Ω–æ –ø–æ–∫–æ–≤—ã—Ä—è—Ç—å—Å—è. 
–í—Å–µ –≤–∞–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Å–∫–µ—Ç—á–∞.

---

## üè† –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Home Assistant
–ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ MQTT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ SmartOLED —Å–∞–º–æ "–ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—Å—è" Home Assistant –±–ª–∞–≥–æ–¥–∞—Ä—è MQTT Discovery. 
–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. 

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ "MQTT" –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ "SmartOLED" –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç 3 —Å—É—â–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π –∞ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –¥–µ–π—Å—Ç–≤–∏—è —ç–Ω–∫–æ–¥–µ—Ä–∞:
1. –û–¥–∏–Ω–∞—Ä–Ω—ã–π –∫–ª–∏–∫
2. –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫
3. –¢—Ä–æ–π–Ω–æ–π –∫–ª–∏–∫
4. –ß–µ—Ç–≤–µ—Ä–Ω–æ–π –∫–ª–∏–∫
5. –ü—è—Ç–µ—Ä–Ω–æ–π –∫–ª–∏–∫
6. –®–µ—Å—Ç–µ—Ä–Ω–æ–π –∫–ª–∏–∫
7. –ù–∞–∂–∞—Ç–∏–µ —Å —É–¥–µ—Ä–∂–∞–Ω–∏–µ–º
8. –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ
9. –ü–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ
10. –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ —Å —É–¥–µ—Ä–∂–∞–Ω–∏–µ–º
11. –ü–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ —Å —É–¥–µ—Ä–∂–∞–Ω–∏–µ–º

*–¢–∞–∫–∂–µ, –ø—Ä–∏ –∫–ª–∏–∫–µ —ç–Ω–∫–æ–¥–µ—Ä–æ–º 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ EEPROM (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–±—Ä–æ—Å –∫ –∑–∞–≤–æ–¥—Å–∫–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º).

–ï—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –¥–æ–±–∞–≤–∏–ª–æ—Å—å –≤ HA —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ MQTT –≤–∫–ª—é—á–µ–Ω –ø—É–Ω–∫—Ç "–†–∞–∑—Ä–µ—à–∏—Ç—å –∞–≤—Ç–æ–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤".

–ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∏–∑ HA –¥–ª–∏–Ω–Ω–µ–µ —á–µ–º —Ç–∞, —á—Ç–æ "–≤–ª–µ–∑–∞–µ—Ç –≤ –¥–∏—Å–ø–ª–µ–π", —Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º –±—É–¥–µ—Ç "~".

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ª–∏—á–Ω—ã—Ö –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π.

---

## ‚úåÔ∏è –°–≤—è–∑—å —Å –∞–≤—Ç–æ—Ä–æ–º
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ, —Ç–æ –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ª–∏—á–∫—É –¢–ì: [@antenna_na_stolbe](https://t.me/antenna_na_stolbe)

–ü–æ–¥—Å–∫–∞–∂—É, –ø–æ–º–æ–≥—É ‚ù§Ô∏è
